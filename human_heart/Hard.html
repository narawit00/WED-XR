<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Human Heart AR Experience</title>
    <script type="module" src="https://ajax.googleapis.com/ajax/libs/model-viewer/3.3.0/model-viewer.min.js"></script>
    <style>
        :root {
            --primary-blue: #2196F3;
            --glass: rgba(255, 255, 255, 0.8);
        }

        body { margin: 0; font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif; overflow: hidden; background: #f0f0f0; }

        model-viewer {
            width: 100vw;
            height: 100vh;
            background-color: #f0f0f0;
        }

        /* ‡πÄ‡∏°‡∏ô‡∏π‡∏î‡πâ‡∏≤‡∏ô‡∏Ç‡πâ‡∏≤‡∏á (Skeletal, Muscular, Circulatory) */
        .side-bar {
            position: absolute;
            left: 15px;
            top: 50%;
            transform: translateY(-50%);
            display: flex;
            flex-direction: column;
            gap: 12px;
            z-index: 100;
        }

        .menu-btn {
            width: 55px;
            height: 55px;
            background: var(--glass);
            backdrop-filter: blur(10px);
            border-radius: 12px;
            border: 1px solid rgba(255,255,255,0.3);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            font-size: 10px;
            font-weight: bold;
            color: #555;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            cursor: pointer;
        }

        .menu-btn.active {
            background: var(--primary-blue);
            color: white;
            border: none;
        }

        .menu-btn i { font-size: 20px; margin-bottom: 2px; }

        /* ‡πÅ‡∏ú‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏î‡πâ‡∏≤‡∏ô‡∏•‡πà‡∏≤‡∏á (Bottom Sheet) */
        .info-sheet {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            width: 90%;
            max-width: 450px;
            background: var(--glass);
            backdrop-filter: blur(20px);
            border-radius: 24px;
            padding: 20px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.2);
            z-index: 100;
        }

        .info-header { display: flex; justify-content: space-between; align-items: flex-start; }
        .info-title { margin: 0; font-size: 20px; color: #333; }
        .info-desc { margin: 8px 0; font-size: 14px; color: #666; line-height: 1.4; }

        .action-bar { display: flex; gap: 10px; margin-top: 15px; }
        .btn-action {
            flex: 1;
            padding: 12px;
            border-radius: 12px;
            border: none;
            font-weight: bold;
            cursor: pointer;
            transition: 0.3s;
        }
        .btn-isolate { background: #e0e0e0; color: #333; }
        .btn-ar { background: var(--primary-blue); color: white; }

        /* ‡∏õ‡∏∏‡πà‡∏°‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÇ‡∏´‡∏°‡∏î AR ‡πÇ‡∏î‡∏¢‡πÄ‡∏â‡∏û‡∏≤‡∏∞ */
        #ar-button {
            background-color: white;
            border-radius: 8px;
            border: none;
            position: absolute;
            top: 20px;
            right: 20px;
            padding: 10px 20px;
            font-weight: bold;
            box-shadow: 0 2px 10px rgba(0,0,0,0.2);
        }
    </style>
</head>
<body>

    <model-viewer 
        id="heart-model"
        src="scene.gltf" 
        ar 
        ar-modes="webxr scene-viewer quick-look" 
        camera-controls 
        shadow-intensity="2"
        environment-image="neutral"
        exposure="1.2"
        auto-rotate
        touch-action="pan-y">

        <div class="side-bar">
            <div class="menu-btn"><span>üíÄ</span>Skeletal</div>
            <div class="menu-btn"><span>üí™</span>Muscular</div>
            <div class="menu-btn active"><span>‚ù§Ô∏è</span>Circulatory</div>
        </div>

        <div class="info-sheet">
            <div class="info-header">
                <div>
                    <h2 class="info-title">Human Heart (‡∏´‡∏±‡∏ß‡πÉ‡∏à)</h2>
                    <p style="font-size: 12px; color: var(--primary-blue); font-weight: bold; margin: 0;">FOCUS: ANATOMY</p>
                </div>
            </div>
            <p class="info-desc">
                ‡∏≠‡∏ß‡∏±‡∏¢‡∏ß‡∏∞‡∏ó‡∏µ‡πà‡∏õ‡∏£‡∏∞‡∏Å‡∏≠‡∏ö‡∏î‡πâ‡∏ß‡∏¢‡∏Å‡∏•‡πâ‡∏≤‡∏°‡πÄ‡∏ô‡∏∑‡πâ‡∏≠ ‡∏ó‡∏≥‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏™‡∏π‡∏ö‡∏â‡∏µ‡∏î‡πÄ‡∏•‡∏∑‡∏≠‡∏î‡πÑ‡∏õ‡∏¢‡∏±‡∏á‡∏™‡πà‡∏ß‡∏ô‡∏ï‡πà‡∏≤‡∏á‡πÜ ‡∏Ç‡∏≠‡∏á‡∏£‡πà‡∏≤‡∏á‡∏Å‡∏≤‡∏¢ ‡πÇ‡∏î‡∏¢‡∏£‡∏±‡∏ö‡πÄ‡∏•‡∏∑‡∏≠‡∏î‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏≠‡∏≠‡∏Å‡∏ã‡∏¥‡πÄ‡∏à‡∏ô‡∏ï‡πà‡∏≥‡∏à‡∏≤‡∏Å‡∏£‡πà‡∏≤‡∏á‡∏Å‡∏≤‡∏¢‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏´‡∏±‡∏ß‡πÉ‡∏à‡∏´‡πâ‡∏≠‡∏á‡∏ö‡∏ô‡∏Ç‡∏ß‡∏≤
            </p>
            <div class="action-bar">
                <button class="btn-action btn-isolate" onclick="toggleRotate()">Pause Rotate</button>
                <button class="btn-action btn-ar" onclick="activateAR()">View in Room (AR)</button>
            </div>
        </div>

    </model-viewer>

    <script>
        const modelViewer = document.querySelector("#heart-model");

        function activateAR() {
            modelViewer.activateAR();
        }

        let isRotating = true;
        function toggleRotate() {
            isRotating = !isRotating;
            modelViewer.autoRotate = isRotating;
            event.target.innerText = isRotating ? "Pause Rotate" : "Resume Rotate";
        }
    </script>
</body>
</html>